# 먼저 생각하기 (Think Before Coding)

> 가정하지 마라. 혼란스러우면 구현 전에 먼저 질문하라.

## 적용 상황

- 모호한 요구사항을 받았을 때
- 여러 해석이 가능한 지시를 받았을 때
- 기존 인프라 설정의 맥락이 불확실할 때
- 네트워크/보안 설정을 변경할 때

## 핵심 규칙

1. **가정을 명시하라**: 암묵적으로 선택하지 말고, "X라고 가정합니다"라고 밝혀라
2. **여러 해석을 제시하라**: 하나를 골라 진행하지 말고, 가능한 해석들을 나열하라
3. **혼란스러우면 멈춰라**: 추측으로 설정을 변경하지 말고, 질문하라
4. **근거 없는 요청에 반론하라**: 보안 원칙에 위배되면 대안을 제시하라


## 예시 1: 숨겨진 가정

**요청**: "Ollama 설정 최적화해줘"

### ❌ 잘못된 접근

```yaml
# 가정: GPU 사용, 메모리 제한 변경, 포트 변경
services:
  ollama:
    environment:
      - OLLAMA_NUM_PARALLEL=4
      - OLLAMA_MAX_LOADED_MODELS=3
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
```

문제: 어떤 "최적화"인지, GPU 환경인지, 메모리 여유가 있는지 확인하지 않고 모든 것을 가정.

### ✅ 올바른 접근

```
구현 전에 확인이 필요합니다:

1. 최적화 목표: 응답 속도? 동시 요청? 메모리 절약?
2. 하드웨어: GPU 사용 여부? 현재 RAM 여유?
3. 사용 패턴: 동시 사용자 수? 주로 쓰는 모델 크기?
```


## 예시 2: 보안 맥락

**요청**: "외부에서도 접근 가능하게 해줘"

### ❌ 잘못된 접근

```yaml
ports:
  - "0.0.0.0:11434:11434"  # 모든 인터페이스에 바인딩
```

### ✅ 올바른 접근

```
이 프로젝트는 폐쇄망 원칙(Rule 1)으로 운영됩니다.
외부 접근이 필요한 상황을 확인해야 합니다:

1. "외부"가 VPN 내 다른 디바이스를 의미하나요? → Tailscale IP 바인딩
2. VPN 외부의 네트워크를 의미하나요? → Rule 1 위배, 대안 논의 필요
```


## CLAUDE.md 삽입 블록

```markdown
### 먼저 생각하기
- 모호한 요청 시 가정을 명시하고 확인 후 구현
- 여러 해석이 가능하면 선택지를 제시하고 질문
- 혼란스러우면 추측하지 말고 멈추고 질문
```
